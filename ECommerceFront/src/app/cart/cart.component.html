<div class="my-container mx-auto border border-dark py-5 ">

  <div class="container ">
    <div class="row">
      <div class="col d-flex justify-content-center ">
        <h1 class="pt-4 text-center"><b>YOUR CART</b></h1>
    </div>
    <div class="row m-auto">

      <div class="col-lg-7 col">

        <div class="current-cart-items w-100 mx-auto mt-5">
          <h3 class="txt p-3 text-center text-dark "><b> Cart Items</b></h3>
          <div class="row mt-4 g-0 product">
            <div class="col py-3 px-2" *ngFor="let cartItem of usersCart.cartItems">
              <div class="d-flex justify-content-between align-items-start">
                <app-product [view]="'currcartitem'" [product]="cartItem.product"></app-product>
                <button class="btn m-0 p-0" (click)="deleteCartItem(cartItem.id)">
                  <h2><i class="bi bi-x-square"></i></h2>
                </button>
              </div>
            </div>
            <button class="btn btn-primary fs-5" type="button" routerLink="/home">Continue shopping</button>
          </div>
        </div>
      </div>

      <div class="col py-5">
        <table class="table w-75 mx-auto mb-0 pb-0 table-border table-hover my-shadow d-flex justify-content-center ">

          <tbody>
            <div class="d-grid mx-auto text-center">
              <h3> <b> Order</b></h3>
            </div>
            <tr>
              <td>Total Items</td>
              <td class="fs-5 fw-bold">{{usersCart.cartItems.length}}</td>
            </tr>
            <tr>
              <td>Total Price</td>
              <td class="fs-5 fw-bold text-danger">{{userPaymentInfo.totalAmount}}$</td>
            </tr>
            <tr>
              <td>Shipping Charges</td>
              <td class="fs-5 fw-bold text-danger">{{userPaymentInfo.shipingCharges}}$</td>
            </tr>
            <tr>
              <td>Discount</td>
              <td class="fs-5 fw-bold text-primary">{{userPaymentInfo.amountReduced}}$</td>
            </tr>
            <tr>
              <td>You Have to Pay</td>
              <td class="fs-5 fw-bold text-primary">{{userPaymentInfo.amountPaid}}$</td>
            </tr>
          </tbody>

        </table>
        <div class="d-grid mx-auto w-75  ">
          <button class="btn btn-primary  fs-5" type="button" routerLink="/orders">Order now</button>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-5 py-4" *ngIf="usersPreviousCarts && usersPreviousCarts.length > 0">
    <h1 class="w-100 text-center py-2 my-5"><b>Previous Carts</b></h1>
    <div class="card mb-5" *ngFor="let cart of usersPreviousCarts">
        <div class="card-header d-flex fw-bold justify-content-between align-items-center bg-primary text-light">
            <span class="count">Items: {{cart.cartItems.length}}</span>
            <span class="price">Price Paid :
                <span class="fs-5">{{cartService.calculatePrice(cart)}}$ </span>
            </span>
        </div>
        <div class="card-body px-4 py-2">
            <div class="row g-0">
                <div class="col-lg-2 col-sm-3 col-md-3 px-2 py-2" *ngFor="let cartItem of cart.cartItems">
                    <app-product [view]="'prevcartitem'" [product]="cartItem.product"></app-product>
                </div>
            </div>
        </div>
    </div>
</div>

 </div>
