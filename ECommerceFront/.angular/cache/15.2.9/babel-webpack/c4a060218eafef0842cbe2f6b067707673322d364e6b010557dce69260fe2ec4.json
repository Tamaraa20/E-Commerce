{"ast":null,"code":"var _class;\nimport { ViewContainerRef } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/navigation.service\";\nimport * as i2 from \"../services/user-authentication.service\";\nimport * as i3 from \"../services/cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../Directives/open-products.directive\";\nconst _c0 = [\"modalTitle\"];\nconst _c1 = [\"container\"];\nconst _c2 = function (a1, a2) {\n  return {\n    categoryId: 0,\n    \"category\": a1,\n    \"subCategory\": a2\n  };\n};\nfunction HeaderComponent_ng_container_12_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const subCategory_r7 = ctx.$implicit;\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵstyleProp(\"cursor\", \"pointer\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"category\", i0.ɵɵpureFunction2(6, _c2, item_r3.category, subCategory_r7));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, subCategory_r7), \" \");\n  }\n}\nfunction HeaderComponent_ng_container_12_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"hr\", 28);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, HeaderComponent_ng_container_12_li_4_Template, 4, 9, \"li\", 25);\n    i0.ɵɵtemplate(5, HeaderComponent_ng_container_12_li_5_Template, 2, 0, \"li\", 26);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, item_r3.category));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", item_r3.subcategories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r4 !== ctx_r0.navigationList.length - 1);\n  }\n}\nexport class HeaderComponent {\n  constructor(navigationService, userAuthentication, cartService) {\n    this.navigationService = navigationService;\n    this.userAuthentication = userAuthentication;\n    this.cartService = cartService;\n    this.cartItem = 0;\n    this.navigationList = [];\n  }\n  ngOnInit() {\n    this.navigationService.getCategoryList().subscribe(list => {\n      for (let item of list) {\n        let present = false;\n        for (let navItem of this.navigationList) {\n          if (navItem.category === item.category) {\n            navItem.subcategories.push(item.subCategory);\n            present = true;\n          }\n        }\n        if (!present) {\n          this.navigationList.push({\n            category: item.category,\n            subcategories: [item.subCategory]\n          });\n        }\n      }\n    });\n  }\n}\n_class = HeaderComponent;\n_class.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.NavigationService), i0.ɵɵdirectiveInject(i2.UserAuthenticationService), i0.ɵɵdirectiveInject(i3.CartService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-header\"]],\n  viewQuery: function HeaderComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalTitle = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.container = _t.first);\n    }\n  },\n  decls: 38,\n  vars: 2,\n  consts: [[1, \"w-100\", \"h-100\", \"bg-dark\", \"px-4\", \"my-shadow\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"text-light\", \"fs-2\", \"fw-bold\", \"fst-italic\"], [\"role\", \"toolbar\", 1, \"btn-toolbar\"], [\"role\", \"group\", 1, \"btn-group\", \"btn-group-lg\", \"me-3\"], [\"type\", \"button\", \"routerLink\", \"/home\", 1, \"btn\", \"btn-outline-light\"], [\"role\", \"group\", 1, \"btn-group\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", 1, \"btn\", \"btn-outline-light\", \"dropdown-toggle\"], [1, \"dropdown-menu\", \"fs-5\"], [4, \"ngFor\", \"ngForOf\"], [\"role\", \"group\", 1, \"btn-group\", \"btn-group-lg\", \"me-2\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#generalmodal\", 1, \"btn\", \"btn-outline-light\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-light\"], [\"type\", \"button\", \"routerLink\", \"/cart\", 1, \"btn\", \"btn-outline-light\"], [1, \"badge\", \"bg-warning\", \"text-dark\"], [\"type\", \"button\", \"routerLink\", \"/orders\", 1, \"btn\", \"btn-outline-light\"], [\"id\", \"generalmodal\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"modalTitle\", \"\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn-close\"], [1, \"modal-body\"], [\"container\", \"\"], [1, \"text-center\", \"fw-bold\"], [3, \"cursor\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"OpenProducts\", \"\", 1, \"dropdown-item\", 3, \"category\"], [1, \"dropdown-divider\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"span\");\n      i0.ɵɵtext(3, \"Shopping Points\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"button\", 4);\n      i0.ɵɵtext(7, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"button\", 6);\n      i0.ɵɵtext(10, \" Categories \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"ul\", 7);\n      i0.ɵɵtemplate(12, HeaderComponent_ng_container_12_Template, 6, 5, \"ng-container\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"div\", 9)(14, \"button\", 10);\n      i0.ɵɵtext(15, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 10);\n      i0.ɵɵtext(17, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 11);\n      i0.ɵɵtext(19, \"Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 12);\n      i0.ɵɵtext(21, \" Cart \");\n      i0.ɵɵelementStart(22, \"span\", 13);\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"button\", 14);\n      i0.ɵɵtext(25, \"Orders\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 11);\n      i0.ɵɵtext(27, \"Logout\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(28, \"div\", 15)(29, \"div\", 16)(30, \"div\", 17)(31, \"div\", 18);\n      i0.ɵɵelement(32, \"h5\", 19, 20)(34, \"button\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 22);\n      i0.ɵɵelementContainer(36, null, 23);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.navigationList);\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate(ctx.cartItem);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.RouterLink, i6.OpenProductsDirective, i4.TitleCasePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAAA,SAAmDA,gBAAgB,QAAQ,eAAe;;;;;;;;;;;;;;;;;;;ICuD9EC,0BAA8E;IAG1EA,YACF;;IAAAA,iBAAI;;;;;IAJ6CA,mCAA0B;IAEzEA,eAAoF;IAApFA,uFAAoF;IACpFA,eACF;IADEA,qEACF;;;;;IAEFA,0BAA4C;IAC1CA,yBAA6B;IAC/BA,iBAAK;;;;;IAVPA,6BAAkE;IAChEA,8BAAgC;IAAAA,YAA6B;;IAAAA,iBAAK;IAClEA,+EAKK;IACLA,+EAEK;IACPA,0BAAe;;;;;;IAVmBA,eAA6B;IAA7BA,4DAA6B;IACjCA,eAAqB;IAArBA,+CAAqB;IAM5CA,eAAqC;IAArCA,gEAAqC;;;ADjDtD,OAAM,MAAOC,eAAe;EAS1BC,YACUC,iBAAoC,EACrCC,kBAA6C,EAC7CC,WAAwB;IAFvB,sBAAiB,GAAjBF,iBAAiB;IAClB,uBAAkB,GAAlBC,kBAAkB;IAClB,gBAAW,GAAXC,WAAW;IAPpB,aAAQ,GAAW,CAAC;IAEpB,mBAAc,GAAqB,EAAE;EAKA;EACnCC,QAAQ;IACN,IAAI,CAACH,iBAAiB,CAACI,eAAe,EAAE,CAACC,SAAS,CAAEC,IAAgB,IAAI;MACtE,KAAK,IAAIC,IAAI,IAAID,IAAI,EAAE;QACrB,IAAIE,OAAO,GAAG,KAAK;QACnB,KAAK,IAAIC,OAAO,IAAI,IAAI,CAACC,cAAc,EAAE;UACvC,IAAID,OAAO,CAACE,QAAQ,KAAKJ,IAAI,CAACI,QAAQ,EAAE;YACtCF,OAAO,CAACG,aAAa,CAACC,IAAI,CAACN,IAAI,CAACO,WAAW,CAAC;YAC5CN,OAAO,GAAG,IAAI;;;QAGlB,IAAI,CAACA,OAAO,EAAE;UACZ,IAAI,CAACE,cAAc,CAACG,IAAI,CAAC;YACvBF,QAAQ,EAAEJ,IAAI,CAACI,QAAQ;YACvBC,aAAa,EAAE,CAACL,IAAI,CAACO,WAAW;WACjC,CAAC;;;IAGR,CAAC,CAAC;EACJ;;SA/BShB,eAAe;;mBAAfA,MAAe;AAAA;;QAAfA,MAAe;EAAAiB;EAAAC;IAAA;;6BAGMpB,gBAAgB;;;;;;;;;;;;;MCyBlDC,iCAAqG;MAE3FA,+BAAe;MAAAA,iBAAO;MAG9BA,8BAAwC;MAEmCA,oBAAI;MAAAA,iBAAS;MACpFA,8BAAoC;MAEhCA,6BACF;MAAAA,iBAAS;MACTA,8BAA+B;MAC7BA,oFAWe;MACjBA,iBAAK;MAGTA,+BAAsD;MAEjDA,sBAAK;MAAAA,iBAAS;MACjBA,mCACG;MAAAA,yBAAQ;MAAAA,iBAAS;MACpBA,mCAAqD;MAAAA,wBAAO;MAAAA,iBAAS;MACrEA,mCACE;MACAA,uBACF;MAAAA,iCAAyC;MAAAA,aAAY;MAAAA,iBAAO;MAE5DA,mCACG;MAAAA,uBAAM;MAAAA,iBAAS;MAClBA,mCACG;MAAAA,uBAAM;MAAAA,iBAAS;MAMxBA,gCAA4G;MAIpGA,8BAAyC;MAE3CA,iBAAM;MACNA,gCAAwB;MACtBA,mCAAwC;MAE1CA,iBAAM;;;MA7C6BA,gBAAmB;MAAnBA,4CAAmB;MAwBbA,gBAAY;MAAZA,kCAAY","names":["ViewContainerRef","i0","HeaderComponent","constructor","navigationService","userAuthentication","cartService","ngOnInit","getCategoryList","subscribe","list","item","present","navItem","navigationList","category","subcategories","push","subCategory","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\tamar\\Desktop\\ECommerce\\ECommerceFront\\src\\app\\header\\header.component.ts","C:\\Users\\tamar\\Desktop\\ECommerce\\ECommerceFront\\src\\app\\header\\header.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild, ViewContainerRef } from '@angular/core';\nimport { NavigationItem } from '../models/navigationItem';\nimport { NavigationService } from '../services/navigation.service';\nimport { UserAuthenticationService } from '../services/user-authentication.service';\nimport { CartService } from '../services/cart.service';\nimport { Category } from '../models/category';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent  implements OnInit{\n\n  @ViewChild('modalTitle') modalTitle!: ElementRef;\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container!: ViewContainerRef;\n  cartItem: number = 0;\n\n  navigationList: NavigationItem[] = []\n\n  constructor(\n    private navigationService: NavigationService,\n    public userAuthentication: UserAuthenticationService,\n    public cartService: CartService) { }\n    ngOnInit(): void {\n      this.navigationService.getCategoryList().subscribe((list: Category[]) => {\n        for (let item of list) {\n          let present = false;\n          for (let navItem of this.navigationList) {\n            if (navItem.category === item.category) {\n              navItem.subcategories.push(item.subCategory);\n              present = true\n            }\n          }\n          if (!present) {\n            this.navigationList.push({\n              category: item.category,\n              subcategories: [item.subCategory]\n            })\n          }\n        }\n      });\n    }\n\n}\n","<!-- <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark \">\n  <div class=\"container-fluid \">\n    <a class=\"navbar-brand\" href=\"#\">\n      ShopNest</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavDropdown\">\n      <ul class=\"navbar-nav \">\n        <li class=\"nav-item\">\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" routerLink=\"/home\">Home</a>\n        </li>\n        <li class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" routerLink=\"/products\">\n            Categories\n          </a>\n          <ul class=\"dropdown-menu\">\n            <li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n            <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n            <li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n          </ul>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" routerLink=\"/account\">Account</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\">Login</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\">Register</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" routerLink=\"/cart\">Cart</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav> -->\n\n\n<header class=\"w-100 h-100 bg-dark px-4 my-shadow d-flex justify-content-between align-items-center\">\n  <div class=\"text-light fs-2 fw-bold fst-italic\">\n    <span>Shopping Points</span>\n  </div>\n\n  <div class=\"btn-toolbar\" role=\"toolbar\">\n    <div class=\"btn-group btn-group-lg me-3\" role=\"group\">\n      <button type=\"button\" class=\"btn btn-outline-light\" routerLink=\"/home\">Home</button>\n      <div class=\"btn-group\" role=\"group\">\n        <button type=\"button\" class=\"btn btn-outline-light dropdown-toggle\" data-bs-toggle=\"dropdown\">\n          Categories\n        </button>\n        <ul class=\"dropdown-menu fs-5\">\n          <ng-container *ngFor=\"let item of navigationList; let i = index;\">\n            <li class=\"text-center fw-bold\">{{item.category | titlecase}}</li>\n            <li *ngFor=\"let subCategory of item.subcategories\" [style.cursor]=\"'pointer'\">\n              <a class=\"dropdown-item\" OpenProducts\n                [category]=\" {categoryId: 0, 'category': item.category, 'subCategory': subCategory}\">\n                {{subCategory | titlecase}}\n              </a>\n            </li>\n            <li *ngIf=\"i !== navigationList.length - 1\">\n              <hr class=\"dropdown-divider\">\n            </li>\n          </ng-container>\n        </ul>\n      </div>\n    </div>\n    <div class=\"btn-group btn-group-lg me-2\" role=\"group\">\n      <button type=\"button\" class=\"btn btn-outline-light\" data-bs-toggle=\"modal\" data-bs-target=\"#generalmodal\"\n        >Login</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" data-bs-toggle=\"modal\" data-bs-target=\"#generalmodal\"\n        >Register</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" >Account</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" routerLink=\"/cart\"\n       >\n        Cart\n      <span class=\"badge bg-warning text-dark\">{{cartItem}}</span>\n      </button>\n      <button type=\"button\" class=\"btn btn-outline-light\" routerLink=\"/orders\"\n        >Orders</button>\n      <button type=\"button\" class=\"btn btn-outline-light\"\n        >Logout</button>\n    </div>\n  </div>\n</header>\n\n<!-- Modal -->\n<div class=\" modal fade\" id=\"generalmodal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" #modalTitle></h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <ng-container #container></ng-container>\n\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}