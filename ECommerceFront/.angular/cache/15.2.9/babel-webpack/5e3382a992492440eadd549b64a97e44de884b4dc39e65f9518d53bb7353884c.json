{"ast":null,"code":"var _class;\nimport { ViewContainerRef } from '@angular/core';\nimport { LoginComponent } from '../login/login.component';\nimport { RegisterComponent } from '../register/register.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/navigation.service\";\nimport * as i2 from \"../services/user-authentication.service\";\nimport * as i3 from \"../services/cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../Directives/open-products.directive\";\nconst _c0 = [\"modalTitle\"];\nconst _c1 = [\"container\"];\nconst _c2 = function (a1, a2) {\n  return {\n    id: 0,\n    \"category\": a1,\n    \"subCategory\": a2\n  };\n};\nfunction HeaderComponent_ng_container_15_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const subCategory_r14 = ctx.$implicit;\n    const item_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵstyleProp(\"cursor\", \"pointer\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"category\", i0.ɵɵpureFunction2(6, _c2, item_r10.category, subCategory_r14));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, subCategory_r14), \" \");\n  }\n}\nfunction HeaderComponent_ng_container_15_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"hr\", 32);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 28);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, HeaderComponent_ng_container_15_li_4_Template, 4, 9, \"li\", 29);\n    i0.ɵɵtemplate(5, HeaderComponent_ng_container_15_li_5_Template, 2, 0, \"li\", 30);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, item_r10.category));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", item_r10.subcategories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r11 !== ctx_r0.navigationList.length - 1);\n  }\n}\nfunction HeaderComponent_a_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 33);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_a_20_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.openModal(\"login\"));\n    });\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_a_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_a_22_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.openModal(\"register\"));\n    });\n    i0.ɵɵtext(1, \"Register\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_a_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵtext(1, \"Cart \");\n    i0.ɵɵelementStart(2, \"span\", 36);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.cartItem);\n  }\n}\nfunction HeaderComponent_a_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 37);\n    i0.ɵɵtext(1, \"Orders\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HeaderComponent_a_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 38);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_a_28_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.userAuthentication.loggoutUser());\n    });\n    i0.ɵɵtext(1, \"Logout\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class HeaderComponent {\n  constructor(navigationService, userAuthentication, cartService) {\n    this.navigationService = navigationService;\n    this.userAuthentication = userAuthentication;\n    this.cartService = cartService;\n    this.cartItem = 0;\n    this.navigationList = [];\n  }\n  ngOnInit() {\n    this.navigationService.getCategoryList().subscribe(list => {\n      for (let item of list) {\n        let present = false;\n        for (let navItem of this.navigationList) {\n          if (navItem.category === item.category) {\n            navItem.subcategories.push(item.subCategory);\n            present = true;\n          }\n        }\n        if (!present) {\n          this.navigationList.push({\n            category: item.category,\n            subcategories: [item.subCategory]\n          });\n        }\n      }\n    });\n    // cart\n    if (this.userAuthentication.isLoggedIn()) {\n      this.navigationService.getActiveCartOfUser(this.userAuthentication.getUser().id).subscribe(res => {\n        this.cartItem = res.cartItems.length;\n      });\n    }\n    this.cartService.changeCart.subscribe(res => {\n      if (parseInt(res) === 0) {\n        this.cartItem = 0;\n      } else {\n        this.cartItem += parseInt(res);\n      }\n    });\n    let cartData = localStorage.getItem('localCart');\n    if (cartData) {\n      this.cartItem = JSON.parse(cartData).length;\n    }\n  }\n  openModal(name) {\n    this.container.clear();\n    let componentType;\n    if (name === 'login') {\n      componentType = LoginComponent;\n      this.modalTitle.nativeElement.textContent = 'Enter Login Information';\n    }\n    if (name === 'register') {\n      componentType = RegisterComponent;\n      this.modalTitle.nativeElement.textContent = 'Enter Registration Information';\n    }\n    this.container.createComponent(componentType);\n  }\n}\n_class = HeaderComponent;\n_class.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.NavigationService), i0.ɵɵdirectiveInject(i2.UserAuthenticationService), i0.ɵɵdirectiveInject(i3.CartService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-header\"]],\n  viewQuery: function HeaderComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalTitle = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.container = _t.first);\n    }\n  },\n  decls: 49,\n  vars: 6,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [1, \"container-fluid\"], [\"href\", \"#\", \"routerLink\", \"/home\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNavDropdown\", \"aria-controls\", \"navbarNavDropdown\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNavDropdown\", 1, \"collapse\", \"navbar-collapse\", \"justify-content-end\"], [1, \"navbar-nav\"], [1, \"nav-item\"], [\"aria-current\", \"page\", \"href\", \"#\", \"routerLink\", \"/home\", 1, \"nav-link\", \"active\"], [1, \"nav-item\", \"dropdown\"], [\"role\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", \"routerLink\", \"/products\", 1, \"nav-link\", \"dropdown-toggle\"], [1, \"dropdown-menu\", \"fs-5\"], [4, \"ngFor\", \"ngForOf\"], [\"href\", \"#\", 1, \"nav-link\"], [\"class\", \"nav-link\", \"href\", \"#\", \"data-bs-toggle\", \"modal\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#generalmodal\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"nav-link\", \"href\", \"#\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#generalmodal\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"nav-link\", \"href\", \"#\", \"routerLink\", \"/cart\", 4, \"ngIf\"], [\"class\", \"nav-link\", \"href\", \"#\", \"routerLink\", \"/orders\", 4, \"ngIf\"], [\"class\", \"nav-link\", \"href\", \"#\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"generalmodal\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"modalTitle\", \"\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn-close\"], [1, \"modal-body\"], [\"container\", \"\"], [1, \"text-center\", \"fw-bold\"], [3, \"cursor\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"OpenProducts\", \"\", 1, \"dropdown-item\", 3, \"category\"], [1, \"dropdown-divider\"], [\"href\", \"#\", \"data-bs-toggle\", \"modal\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#generalmodal\", 1, \"nav-link\", 3, \"click\"], [\"href\", \"#\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#generalmodal\", 1, \"nav-link\", 3, \"click\"], [\"href\", \"#\", \"routerLink\", \"/cart\", 1, \"nav-link\"], [1, \"badge\", \"bg-warning\", \"text-dark\"], [\"href\", \"#\", \"routerLink\", \"/orders\", 1, \"nav-link\"], [\"href\", \"#\", 1, \"nav-link\", 3, \"click\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵtext(3, \" ShopNest\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 3);\n      i0.ɵɵelement(5, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"ul\", 6)(8, \"li\", 7)(9, \"a\", 8);\n      i0.ɵɵtext(10, \"Home\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"li\", 9)(12, \"a\", 10);\n      i0.ɵɵtext(13, \" Categories \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ul\", 11);\n      i0.ɵɵtemplate(15, HeaderComponent_ng_container_15_Template, 6, 5, \"ng-container\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"li\", 7)(17, \"a\", 13);\n      i0.ɵɵtext(18, \"Account\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"li\", 7);\n      i0.ɵɵtemplate(20, HeaderComponent_a_20_Template, 2, 0, \"a\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"li\", 7);\n      i0.ɵɵtemplate(22, HeaderComponent_a_22_Template, 2, 0, \"a\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"li\", 7);\n      i0.ɵɵtemplate(24, HeaderComponent_a_24_Template, 4, 1, \"a\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"li\", 7);\n      i0.ɵɵtemplate(26, HeaderComponent_a_26_Template, 2, 0, \"a\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"li\", 7);\n      i0.ɵɵtemplate(28, HeaderComponent_a_28_Template, 2, 0, \"a\", 18);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(29, \"div\", 19)(30, \"div\", 20)(31, \"div\", 21)(32, \"div\", 22);\n      i0.ɵɵelement(33, \"h5\", 23, 24)(35, \"button\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 26);\n      i0.ɵɵelementContainer(37, null, 27);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(39, \"div\", 19)(40, \"div\", 20)(41, \"div\", 21)(42, \"div\", 22);\n      i0.ɵɵelement(43, \"h5\", 23, 24)(45, \"button\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 26);\n      i0.ɵɵelementContainer(47, null, 27);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.navigationList);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.userAuthentication.isLoggedIn());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.userAuthentication.isLoggedIn());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.userAuthentication.isLoggedIn());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.userAuthentication.isLoggedIn());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.userAuthentication.isLoggedIn());\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.RouterLink, i6.OpenProductsDirective, i4.TitleCasePipe],\n  styles: [\"[_nghost-%COMP%] {\\r\\n  display: block;\\r\\n  height: 4rem;\\r\\n  width: 100%;\\r\\n  position: fixed;\\r\\n  top: 0%;\\r\\n  left: 0%;\\r\\n  z-index: 20;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixXQUFXO0VBQ1gsZUFBZTtFQUNmLE9BQU87RUFDUCxRQUFRO0VBQ1IsV0FBVztBQUNiIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGhlaWdodDogNHJlbTtcclxuICB3aWR0aDogMTAwJTtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAwJTtcclxuICBsZWZ0OiAwJTtcclxuICB6LWluZGV4OiAyMDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["ViewContainerRef","LoginComponent","RegisterComponent","i0","HeaderComponent","constructor","navigationService","userAuthentication","cartService","ngOnInit","getCategoryList","subscribe","list","item","present","navItem","navigationList","category","subcategories","push","subCategory","isLoggedIn","getActiveCartOfUser","getUser","id","res","cartItem","cartItems","length","changeCart","parseInt","cartData","localStorage","getItem","JSON","parse","openModal","name","container","clear","componentType","modalTitle","nativeElement","textContent","createComponent","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\tamar\\Desktop\\ECommerce\\ECommerceFront\\src\\app\\header\\header.component.ts","C:\\Users\\tamar\\Desktop\\ECommerce\\ECommerceFront\\src\\app\\header\\header.component.html"],"sourcesContent":["import { Component, ElementRef, OnInit, Type, ViewChild, ViewContainerRef } from '@angular/core';\nimport { NavigationItem } from '../models/navigationItem';\nimport { NavigationService } from '../services/navigation.service';\nimport { UserAuthenticationService } from '../services/user-authentication.service';\nimport { CartService } from '../services/cart.service';\nimport { Category } from '../models/category';\nimport { LoginComponent } from '../login/login.component';\nimport { RegisterComponent } from '../register/register.component';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent  implements OnInit{\n\n  @ViewChild('modalTitle') modalTitle!: ElementRef;\n  @ViewChild('container', { read: ViewContainerRef, static: true })\n  container!: ViewContainerRef;\n  cartItem: number = 0;\n\n  navigationList: NavigationItem[] = []\n\n  constructor(\n    private navigationService: NavigationService,\n    public userAuthentication: UserAuthenticationService,\n    public cartService: CartService) { }\n\n    ngOnInit(): void {\n      this.navigationService.getCategoryList().subscribe((list: Category[]) => {\n        for (let item of list) {\n          let present = false;\n          for (let navItem of this.navigationList) {\n            if (navItem.category === item.category) {\n              navItem.subcategories.push(item.subCategory);\n              present = true\n            }\n          }\n          if (!present) {\n            this.navigationList.push({\n              category: item.category,\n              subcategories: [item.subCategory]\n            })\n          }\n        }\n      });\n     // cart\n     if (this.userAuthentication.isLoggedIn()) {\n      this.navigationService.getActiveCartOfUser\n        (this.userAuthentication.getUser().id)\n        .subscribe((res: any) => {\n          this.cartItem = res.cartItems.length\n        });\n    }\n    this.cartService.changeCart.subscribe((res: any) => {\n      if (parseInt(res) === 0) {\n        this.cartItem = 0\n      }\n      else {\n        this.cartItem += parseInt(res);\n      }\n\n    });\n    let cartData = localStorage.getItem('localCart')\n    if (cartData) {\n      this.cartItem = JSON.parse(cartData).length\n    }\n  }\n\n  openModal(name: string) {\n    this.container.clear();\n\n    let componentType!: Type<any>;\n    if (name === 'login') {\n      componentType = LoginComponent;\n      this.modalTitle.nativeElement.textContent = 'Enter Login Information'\n    }\n    if (name === 'register') {\n      componentType = RegisterComponent;\n      this.modalTitle.nativeElement.textContent = 'Enter Registration Information'\n    }\n    this.container.createComponent(componentType)\n  }\n}\n","<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark \">\n  <div class=\"container-fluid \">\n    <a class=\"navbar-brand\" href=\"#\" routerLink=\"/home\">\n      ShopNest</a>\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNavDropdown\"\n      aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavDropdown\">\n      <ul class=\"navbar-nav \">\n        <li class=\"nav-item\">\n          <a class=\"nav-link active\" aria-current=\"page\" href=\"#\" routerLink=\"/home\">Home</a>\n        </li>\n        <li class=\"nav-item dropdown\">\n          <a class=\"nav-link dropdown-toggle\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\"\n            routerLink=\"/products\">\n            Categories\n          </a>\n          <ul class=\"dropdown-menu fs-5\">\n            <ng-container *ngFor=\"let item of navigationList; let i = index;\">\n              <li class=\"text-center fw-bold\">{{item.category | titlecase}}</li>\n              <li *ngFor=\"let subCategory of item.subcategories\" [style.cursor]=\"'pointer'\">\n                <a class=\"dropdown-item\" OpenProducts\n                  [category]=\" {id: 0, 'category': item.category, 'subCategory': subCategory}\">\n                  {{subCategory | titlecase}}\n                </a>\n              </li>\n              <li *ngIf=\"i !== navigationList.length - 1\">\n                <hr class=\"dropdown-divider\">\n              </li>\n            </ng-container>\n          </ul>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\">Account</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" data-bs-toggle=\"modal\" data-bs-toggle=\"modal\" data-bs-target=\"#generalmodal\"\n            (click)=\"openModal('login')\" *ngIf=\"!userAuthentication.isLoggedIn()\">Login</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" data-bs-toggle=\"modal\" data-bs-target=\"#generalmodal\"\n            (click)=\"openModal('register')\" *ngIf=\"!userAuthentication.isLoggedIn()\">Register</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" routerLink=\"/cart\" *ngIf=\"userAuthentication.isLoggedIn()\">Cart\n            <span class=\"badge bg-warning text-dark\" >{{cartItem}}</span>\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" routerLink=\"/orders\"  *ngIf=\"userAuthentication.isLoggedIn()\">Orders</a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#\" (click)=\"userAuthentication.loggoutUser()\"\n          *ngIf=\"userAuthentication.isLoggedIn()\">Logout</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n\n<div class=\" modal fade\" id=\"generalmodal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" #modalTitle></h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <ng-container #container></ng-container>\n\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n\n<!-- 2 -->\n<!-- <header class=\"w-100 h-100 bg-dark px-4 my-shadow d-flex justify-content-between align-items-center\">\n  <div class=\"text-light fs-2 fw-bold fst-italic\">\n    <span>Shopping Points</span>\n  </div>\n\n  <div class=\"btn-toolbar\" role=\"toolbar\">\n    <div class=\"btn-group btn-group-lg me-3\" role=\"group\">\n      <button type=\"button\" class=\"btn btn-outline-light\" routerLink=\"/home\">Home</button>\n      <div class=\"btn-group\" role=\"group\">\n        <button type=\"button\" class=\"btn btn-outline-light dropdown-toggle\" data-bs-toggle=\"dropdown\">\n          Categories\n        </button>\n        <ul class=\"dropdown-menu fs-5\">\n          <ng-container *ngFor=\"let item of navigationList; let i = index;\">\n            <li class=\"text-center fw-bold\">{{item.category | titlecase}}</li>\n            <li *ngFor=\"let subCategory of item.subcategories\" [style.cursor]=\"'pointer'\">\n              <a class=\"dropdown-item\" OpenProducts\n                [category]=\" {id: 0, 'category': item.category, 'subCategory': subCategory}\">\n                {{subCategory | titlecase}}\n              </a>\n            </li>\n            <li *ngIf=\"i !== navigationList.length - 1\">\n              <hr class=\"dropdown-divider\">\n            </li>\n          </ng-container>\n        </ul>\n      </div>\n    </div>\n    <div class=\"btn-group btn-group-lg me-2\" role=\"group\">\n      <button type=\"button\" class=\"btn btn-outline-light\" data-bs-toggle=\"modal\" data-bs-target=\"#generalmodal\"\n        (click)=\"openModal('login')\" *ngIf=\"!userAuthentication.isLoggedIn()\">Login</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" data-bs-toggle=\"modal\" data-bs-target=\"#generalmodal\"\n        (click)=\"openModal('register')\" *ngIf=\"!userAuthentication.isLoggedIn()\">Register</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" *ngIf=\"userAuthentication.isLoggedIn()\">Account</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" routerLink=\"/cart\" *ngIf=\"userAuthentication.isLoggedIn()\">\n        Cart\n        <span class=\"badge bg-warning text-dark\">{{cartItem}}</span>\n      </button>\n      <button type=\"button\" class=\"btn btn-outline-light\" routerLink=\"/orders\"\n        *ngIf=\"userAuthentication.isLoggedIn()\">Orders</button>\n      <button type=\"button\" class=\"btn btn-outline-light\" (click)=\"userAuthentication.loggoutUser()\"\n        *ngIf=\"userAuthentication.isLoggedIn()\">Logout</button>\n    </div>\n  </div>\n</header> -->\n\n<!-- Modal -->\n<div class=\" modal fade\" id=\"generalmodal\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" #modalTitle></h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <ng-container #container></ng-container>\n\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}